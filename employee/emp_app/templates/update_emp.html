<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.rtl.min.css" integrity="sha384-DOXMLfHhQkvFFp+rWTZwVlPVqdIhpDVYT9csOnHSgWQWPX0v5MCGtjCJbY6ERspU" crossorigin="anonymous">
<title>Update Employee</title>
<style>
    .dropdown {
  position: relative;
  display: inline-block;
}

/* Dropdown Content (Hidden by Default) */
.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

/* Links inside the dropdown */
.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}

/* Show the dropdown menu on hover */
.dropdown:hover .dropdown-content {display: block;}


   </style>
</head>
<body>
    <div class="container" >
        <h1 align="center">Update Employee</h1>
        <hr>
        
      {% if display_id == 0 %}
               <div class="dropdown" align="center">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Update An Employee       
                  </button>
                <ul class="dropdown-content">
                  {% for i in emp_data %}
                  <li><a class="dropdown-item" href="/update_emp/{{i.id}}">{{i.first_name}} {{i.last_name}}</a></li>
                  {% endfor %}
                </ul>
                <a class="btn btn-primary"href="/">Go Back</a>
              </div>
      
        {% elif display_id > 0 %}
        
        <form class="row g-3" action="" method="post" novalidate>
            {% csrf_token %}
            <div class="col-md-6">
              <label for="first_name" class="form-label">First Name</label>
              <input name="first_name" value="{{update_emp.first_name}}" type="text" class="form-control" id="first_name" required>
            </div>
            <div class="col-md-6">
              <label for="last_name" class="form-label">Last Name</label>
              <input name="last_name" value="{{update_emp.last_name}}"type="text" class="form-control" id="last_name" required>
            </div>
            <div class="col-md-6">
              <label for="dept" class="form-label">Department</label><br>
              <select class="col-md-6"name="dept" id="dept">
                <option value="{{update_emp.dept_id}}" selected>{{update_emp.dept.dept_name}}</option>
                 {% for j in dept_data %}
                <option value="{{j.id}}">{{j.dept_name}}</option>
                {% endfor %} 
               </select> 
               
            </div> 
            <div class="col-md-6">
              <label for="salary" class="form-label">Salary</label>
              <input name="salary" type="number" value="{{update_emp.salary}}" class="form-control" id="salary" required>  
            </div>
            <div class="col-md-6">
              <label for="bonus" class="form-label">Bonus</label>
              <input name="bonus" type="number" class="form-control" id="bonus" value="{{update_emp.bonus}}">
            </div>
            <div class="col-md-6">
              <label for="role" class="form-label">Role</label><br>
              <select class="col-md-6" name="role" id="role">
                <option value="{{update_emp.role_id}}" selected>{{update_emp.role.name}}</option>
                 {% for i in role_data %}
                <option value="{{i.id}}">{{i.name}}</option>
                {% endfor %}
              </select>
             </select>
              
            </div>
            <div class="col-md-6">
              <label for="phone" class="form-label">Phone</label>
              <input name="phone" value ="{{update_emp.phone}}" type="number" class="form-control" id="phone">
            </div>
            
            <div class="col-12">
              <button type="submit" class="btn btn-primary">Update Employee</button>
              <a class="btn btn-primary"href="javascript:history.go(-1)">Go Back</a>
            </div>
           
        
          </form> 
        {% endif %}
    </div>
    
</body>
</html>